/* Font imports */
@import '@fontsource/space-grotesk/400.css';
@import '@fontsource/space-grotesk/500.css';
@import '@fontsource/space-grotesk/600.css';
@import '@fontsource/space-grotesk/700.css';
@import '@fontsource/dm-sans/300.css';
@import '@fontsource/dm-sans/400.css';
@import '@fontsource/dm-sans/500.css';
@import '@fontsource/dm-sans/600.css';
@import '@fontsource/dm-sans/700.css';
@import '@fontsource/fira-code/400.css';
@import '@fontsource/fira-code/500.css';

/* Tailwind directives */
@import 'tailwindcss';
@config "../../tailwind.config.mjs";

@theme {
  --font-heading: 'Space Grotesk', sans-serif;
  --font-sans: 'DM Sans', sans-serif;
  --font-mono: 'Fira Code', monospace;

  /* Light mode surface colors */
  --color-surface-50: #f8fafc;
  --color-surface-100: #f1f5f9;
  --color-surface-200: #e2e8f0;
  --color-surface-300: #cbd5e1;
  --color-surface-400: #94a3b8;
  --color-surface-500: #64748b;
  --color-surface-600: #475569;
  --color-surface-700: #334155;
  --color-surface-800: #1e293b;
  --color-surface-900: #0f172a;
  --color-surface-950: #020617;
}

/* Base styles */
@layer base {
  * {
    scroll-behavior: smooth;
  }

  /* Global focus-visible styles for accessibility */
  :focus-visible {
    outline: 2px solid #3B82F6;
    outline-offset: 2px;
  }

  /* Skip focus-visible ring for elements with custom focus handling */
  .focus-custom:focus-visible {
    outline: none;
  }

    /* Add scroll margin to handle fixed header overlap */
    section[id],
    h1[id],
    h2[id],
    h3[id] {
      scroll-margin-top: 8rem;
      /* approx 128px to account for floating header */
    }
  body {
    @apply antialiased;
  }
}

/* Glassmorphism components */
@layer components {
  .glass-card {
    @apply bg-white/80 dark:bg-surface-900/60;
    @apply border border-slate-200 dark:border-white/10;
    @apply backdrop-blur-2xl;
    -webkit-backdrop-filter: blur(24px);
    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
  }

  .glass-card-light {
    @apply bg-surface-50/90 dark:bg-surface-800/40;
    @apply border border-slate-200 dark:border-white/5;
    @apply backdrop-blur-xl;
    -webkit-backdrop-filter: blur(16px);
  }

  .glass-card-hover {
    @apply cursor-pointer transition-all duration-300 ease-out;
  }

  .glass-card-hover:hover {
    @apply border-slate-300 dark:border-white/20;
    @apply bg-white/90 dark:bg-white/10;
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1);
  }

  .glow-border {
    @apply relative;
  }

  .glow-border::before {
    content: '';
    position: absolute;
    inset: -1px;
    border-radius: inherit;
    padding: 1px;
    background: linear-gradient(135deg, rgba(37, 99, 235, 0.5), rgba(59, 130, 246, 0.5), rgba(249, 115, 22, 0.3));
    -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    pointer-events: none;
  }

  .nav-link {
    @apply block transition-all duration-300 ease-out rounded-full border border-transparent px-3 py-1.5;
    @apply text-slate-600 dark:text-slate-400;
  }

  .nav-link:hover {
    @apply text-blue-600 bg-blue-500/5;
  }

                .nav-link:focus-visible {
                  @apply outline-none ring-2 ring-blue-500 text-blue-600 bg-blue-500/5 rounded-full;
                }
  .dark .nav-link:hover {
    @apply text-blue-400 bg-blue-500/10;
  }

                .dark .nav-link:focus-visible {
                  @apply text-blue-400 bg-blue-500/10;
  }

                .nav-link.active {
                  @apply bg-white dark:bg-white/10 text-blue-600 dark:text-blue-400 shadow-md shadow-black/5;
                  @apply border-slate-200 dark:border-white/10;
  }

  .cta-button {
    background: linear-gradient(135deg, #2563eb, #06b6d4);
      @apply transition-all duration-300 ease-out text-white shadow-lg shadow-blue-500/20;
  }

  .cta-button:hover {
    @apply -translate-y-0.5;
    box-shadow: 0 10px 15px -3px rgba(37, 99, 235, 0.3), 0 4px 6px -4px rgba(37, 99, 235, 0.3);
  }

  .cta-button-emerald {
    background: linear-gradient(135deg, #059669, #14b8a6);
    @apply transition-all duration-300 ease-out text-white shadow-lg shadow-emerald-500/20;
  }

  .cta-button-emerald:hover {
    @apply -translate-y-0.5;
    box-shadow: 0 10px 15px -3px rgba(5, 150, 105, 0.3), 0 4px 6px -4px rgba(5, 150, 105, 0.3);
  }

  .feature-card {
    @apply transition-all duration-300 ease-out;
  }

  .feature-card:hover {
    @apply -translate-y-1;
    @apply border-blue-500/40;
    box-shadow: 0 20px 40px -12px rgba(37, 99, 235, 0.2);
  }

  /* Terminal Window Component */
  .terminal-window {
    @apply bg-[#0D0D0D] rounded-xl border-2 border-slate-700 overflow-hidden;
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
  }

  .terminal-header {
    @apply bg-slate-800 px-4 py-2 flex items-center gap-2 border-b border-slate-700;
  }

  .terminal-dots {
    @apply flex gap-2;
  }

  .terminal-dot {
    @apply w-3 h-3 rounded-full;
  }

  .terminal-dot--red { @apply bg-red-500/80; }
  .terminal-dot--yellow { @apply bg-yellow-500/80; }
  .terminal-dot--green { @apply bg-green-500/80; }

  .terminal-content {
    @apply p-6 font-mono text-sm space-y-3 min-h-[300px] text-slate-300;
  }

  .terminal-prompt {
    @apply text-emerald-400;
  }

  .terminal-path {
    @apply text-cyan-400;
  }

  /* Step Indicator Component */
  .step-indicator {
    @apply flex-shrink-0 w-10 h-10 rounded-full font-bold text-lg flex items-center justify-center border-2;
  }

  .step-indicator--blue {
    @apply bg-blue-500/20 text-blue-400 border-blue-500/50;
  }

  .step-indicator--purple {
    @apply bg-purple-500/20 text-purple-400 border-purple-500/50;
  }

  .step-indicator--green {
    @apply bg-green-500/20 text-green-400 border-green-500/50;
  }

  .step-indicator--emerald {
    @apply bg-emerald-500/20 text-emerald-400 border-emerald-500/50;
  }

  .step-indicator--amber {
    @apply bg-amber-500/20 text-amber-400 border-amber-500/50;
  }

  .step-indicator--indigo {
    @apply bg-indigo-500/20 text-indigo-400 border-indigo-500/50;
  }

  .step-indicator--red {
    @apply bg-red-500/20 text-red-400 border-red-500/50;
  }

  .step-indicator--cyan {
    @apply bg-cyan-500/20 text-cyan-400 border-cyan-500/50;
  }

  .step-connector {
    @apply w-0.5 h-full bg-gradient-to-b mt-3;
  }

  /* Workflow Card with Gradient Header */
  .workflow-card {
    @apply bg-white/80 dark:bg-surface-900/50 rounded-xl border border-slate-200 dark:border-slate-800 overflow-hidden;
    @apply hover:border-blue-500/50 transition-colors duration-200;
  }

  .workflow-card-header {
    @apply p-6 border-b border-slate-200 dark:border-slate-800;
  }

  .workflow-card-header--purple {
    @apply bg-gradient-to-r from-purple-500/10 to-blue-500/10;
  }

  .workflow-card-header--red {
    @apply bg-gradient-to-r from-red-500/10 to-orange-500/10;
  }

  .workflow-card-header--blue {
    @apply bg-gradient-to-r from-blue-500/10 to-cyan-500/10;
  }

  .workflow-card-header--green {
    @apply bg-gradient-to-r from-green-500/10 to-emerald-500/10;
  }

  .workflow-card-header--indigo {
    @apply bg-gradient-to-r from-indigo-500/10 to-purple-500/10;
  }

  .workflow-card-header--amber {
    @apply bg-gradient-to-r from-amber-500/10 to-orange-500/10;
  }

  .workflow-card-header--emerald {
    @apply bg-gradient-to-r from-emerald-500/10 to-green-500/10;
  }

  .workflow-card-header--pink {
    @apply bg-gradient-to-r from-pink-500/10 to-rose-500/10;
  }

  .workflow-card-header--cyan {
    @apply bg-gradient-to-r from-cyan-500/10 to-blue-500/10;
  }

  .workflow-card-body {
    @apply p-6 space-y-4;
  }

  .workflow-card-footer {
    @apply p-4 bg-slate-50/50 dark:bg-slate-900/50 border-t border-slate-200 dark:border-slate-800;
  }

  /* Skill Level Badges */
  .skill-badge {
    @apply px-2 py-0.5 text-xs rounded-full font-medium border;
  }

  .skill-badge--beginner {
    @apply bg-green-500/20 text-green-600 dark:text-green-400 border-green-500/20;
  }

  .skill-badge--intermediate {
    @apply bg-amber-500/20 text-amber-600 dark:text-amber-400 border-amber-500/20;
  }

  .skill-badge--advanced {
    @apply bg-red-500/20 text-red-600 dark:text-red-400 border-red-500/20;
  }

  .skill-badge--easy {
    @apply bg-green-500/20 text-green-600 dark:text-green-400 border-green-500/20;
  }

  .skill-badge--medium {
    @apply bg-amber-500/20 text-amber-600 dark:text-amber-400 border-amber-500/20;
  }

  .skill-badge--hard {
    @apply bg-red-500/20 text-red-600 dark:text-red-400 border-red-500/20;
  }
}

/* Keyframe animations */
@keyframes gradient-flow {
  0%, 100% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
}

@keyframes float {
  0%, 100% {
    transform: translateY(0px);
  }
  50% {
    transform: translateY(-10px);
  }
}

@keyframes pulse-glow {
  0%, 100% {
    opacity: 0.5;
  }
  50% {
    opacity: 1;
  }
}

@keyframes fade-in-up {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes flow {
  0%, 100% { opacity: 0.3; }
  50% { opacity: 1; }
}

@keyframes blink {
  0%, 49% { opacity: 1; }
  50%, 100% { opacity: 0; }
}

/* Utility classes */
@layer utilities {
  .gradient-animate {
    background-size: 200% 200%;
    animation: gradient-flow 8s ease infinite;
  }

  .float-animation {
    animation: float 6s ease-in-out infinite;
  }

  .pulse-glow {
    animation: pulse-glow 3s ease-in-out infinite;
  }

  .fade-in-up {
    animation: fade-in-up 0.6s ease-out forwards;
  }

  .flow-arrow {
    animation: flow 2s ease-in-out infinite;
  }

  .cursor-blink {
    animation: blink 1s infinite;
  }

  .section {
    @apply opacity-0 translate-y-8 transition-all duration-600 ease-out;
  }

  .section.visible {
    @apply opacity-100 translate-y-0;
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}
