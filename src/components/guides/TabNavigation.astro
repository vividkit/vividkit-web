---
export interface Props {
  activeTab?: string;
}

const { activeTab = 'cli-guide' } = Astro.props;

const tabs = [
  { id: 'cli-guide', label: 'ðŸš€ CLI Getting Started' },
  { id: 'workflows', label: 'ðŸ”„ Recommended Workflows' },
  { id: 'commands', label: 'âš¡ Slash Commands Reference' },
  { id: 'uiux', label: 'ðŸŽ¨ UI/UX Pro Max' }
];
---

<div
  x-data="{ activeTab: '${activeTab}' }"
  x-init="$dispatch('tab-changed', { tab: activeTab })"
  class="sticky top-[73px] z-40 glass-card border-b border-slate-200 dark:border-slate-800"
>
  <div class="max-w-6xl mx-auto px-6">
    <div class="flex gap-2 py-3 overflow-x-auto scrollbar-hide">
      {tabs.map((tab) => (
        <button
          @click="activeTab = '${tab.id}'; $dispatch('tab-changed', { tab: activeTab })"
          :class="{
            'active': activeTab === '${tab.id}',
            'bg-primary/10 text-primary border-primary/20': activeTab === '${tab.id}',
            'bg-transparent text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 border-transparent': activeTab !== '${tab.id}'
          }"
          class="tab-btn whitespace-nowrap px-4 py-2 rounded-lg font-medium text-sm transition-all duration-200 border"
          data-tab={tab.id}
        >
          {tab.label}
        </button>
      ))}
    </div>
  </div>
</div>

<style>
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  .tab-btn.active {
    position: relative;
  }

  .tab-btn.active::after {
    content: '';
    position: absolute;
    bottom: -1px;
    left: 0;
    right: 0;
    height: 2px;
    background: linear-gradient(90deg, #3b82f6, #8b5cf6);
    border-radius: 2px;
  }
</style>