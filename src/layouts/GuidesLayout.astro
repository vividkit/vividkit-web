---
import MainLayout from '@/layouts/MainLayout.astro';
import Header from '@/components/layout/Header.astro';
import Link from '@/components/ui/Link.astro';
import Footer from '@/components/layout/Footer.astro';
import TabNavigation from '@/components/guides/TabNavigation.astro';
import TableOfContents from '@/components/guides/TableOfContents.astro';


interface Props {
  title: string;
  description: string;
  activeTab: 'cli' | 'workflows' | 'commands' | 'uiux';
}

const { title, description, activeTab } = Astro.props;
---

<MainLayout
  title={title}
  description={description}
  canonical={`/guides${activeTab !== 'cli' ? '/' + activeTab : ''}`}
>
  <Header />

  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-28 pb-12 min-h-screen">
    <div class="lg:flex lg:gap-12">
      <!-- Sidebar Navigation -->
      <div class="lg:w-64 lg:shrink-0 z-30">
        <TabNavigation activeTab={activeTab} />
      </div>

      <!-- Main Content -->
      <main class="flex-1 min-w-0">
        <slot />
      </main>

      <!-- Table of Contents (Desktop) -->
      <TableOfContents />
    </div>
  </div>

  <Footer />
</MainLayout>
